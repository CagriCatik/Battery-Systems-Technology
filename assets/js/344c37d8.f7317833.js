"use strict";(self.webpackChunkBMS=self.webpackChunkBMS||[]).push([[9507],{236:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"theory/bms_architecture/state_machine","title":"State Machine","description":"This state diagram outlines the various operating states of the Battery Management System (BMS) and the transitions between these states based on specific events and conditions.","source":"@site/docs/theory/09_bms_architecture/07_state_machine.mdx","sourceDirName":"theory/09_bms_architecture","slug":"/theory/bms_architecture/state_machine","permalink":"/Battery-Systems-Technology/docs/theory/bms_architecture/state_machine","draft":false,"unlisted":false,"editUrl":"https://github.com/CagriCatik/Battery-Systems-Technology/edit/main/docs/theory/09_bms_architecture/07_state_machine.mdx","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"id":"state_machine","title":"State Machine"},"sidebar":"bmsDesignArchitectureSidebar","previous":{"title":"BMS Topologies","permalink":"/Battery-Systems-Technology/docs/theory/bms_architecture/topology"}}');var s=n(4848),r=n(8453),a=(n(8796),n(8087));const o={id:"state_machine",title:"State Machine"},l="State Machine",d={},c=[{value:"Overview of the State Diagram",id:"overview-of-the-state-diagram",level:2},{value:"State Diagram",id:"state-diagram",level:3},{value:"Sequence Diagram",id:"sequence-diagram",level:3},{value:"Description of States and Transitions",id:"description-of-states-and-transitions",level:2},{value:"1. Sleep Mode",id:"1-sleep-mode",level:3},{value:"2. Active Mode",id:"2-active-mode",level:3},{value:"3. Start Mode",id:"3-start-mode",level:3},{value:"4. Operational Mode",id:"4-operational-mode",level:3},{value:"5. Fault Mode",id:"5-fault-mode",level:3},{value:"6. Safety Mode",id:"6-safety-mode",level:3},{value:"Overall System Behavior",id:"overall-system-behavior",level:2},{value:"Normal Operational Flows",id:"normal-operational-flows",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Safety Mechanisms",id:"safety-mechanisms",level:3},{value:"Summary",id:"summary",level:2}];function h(e){const t={br:"br",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"state-machine",children:"State Machine"})}),"\n",(0,s.jsx)(t.p,{children:"This state diagram outlines the various operating states of the Battery Management System (BMS) and the transitions between these states based on specific events and conditions."}),"\n",(0,s.jsx)(t.h2,{id:"overview-of-the-state-diagram",children:"Overview of the State Diagram"}),"\n",(0,s.jsx)(t.p,{children:"The state diagram comprises six primary states: Sleep Mode, Active Mode, Start Mode, Operational Mode, Fault Mode, and Safety Mode. The state machine initiates in Sleep Mode and transitions between the different states in response to various events and conditions."}),"\n",(0,s.jsx)(t.h3,{id:"state-diagram",children:"State Diagram"}),"\n",(0,s.jsx)(a.A,{code:"\n@startuml\nhide empty description\n\n[*] --\x3e SelfTest\n\nSelfTest --\x3e Initialization : Test Passed\nSelfTest --\x3e Fault : Test Failed\n\nInitialization --\x3e NormalOperation : Init Complete\n\nNormalOperation --\x3e Charging : Charger Connected\nNormalOperation --\x3e Discharging : Load Connected\nNormalOperation --\x3e Sleep : Low Activity\nNormalOperation --\x3e Fault : Error Detected\n\nCharging --\x3e NormalOperation : Charge Complete\nDischarging --\x3e NormalOperation : Load Removed\nSleep --\x3e NormalOperation : Wake Up\n\nFault --\x3e SelfTest : Reset\n\n@enduml"}),"\n",(0,s.jsx)(t.h3,{id:"sequence-diagram",children:"Sequence Diagram"}),"\n",(0,s.jsx)(a.A,{code:"\n@startuml\nactor Vehicle\nparticipant System\n\nVehicle -> System: Turn on vehicle\nSystem -> System: Transition to Start_Mode\nactivate System\nSystem -> System: Verify battery condition\nalt Successful verification\n  System -> System: Transition to Operational_Mode\n  System -> System: Monitor battery\n  System -> System: Dynamically adjust cooling/heating measures\n  Vehicle -> System: Turn off vehicle\n  System -> System: Transition to Sleep_Mode\nelse Fault detected\n  System -> System: Transition to Fault_Mode\n  System -> System: Analyze and log fault\n  alt Critical fault\n      System -> System: Transition to Safety_Mode\n      System -> System: Interrupt driving power\n      Vehicle -> System: Fault resolved\n      System -> System: Transition to Operational_Mode\n  else Fault resolved\n      System -> System: Transition to Operational_Mode\n  end\nend\ndeactivate System\n@enduml"}),"\n",(0,s.jsx)(t.h2,{id:"description-of-states-and-transitions",children:"Description of States and Transitions"}),"\n",(0,s.jsx)(t.h3,{id:"1-sleep-mode",children:"1. Sleep Mode"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Description:"}),(0,s.jsx)(t.br,{}),"\n","In Sleep Mode, the BMS minimizes energy consumption to extend the battery's lifespan. The system periodically wakes up according to a programmed cycle time to perform specific tasks or check the system status."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Transitions:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Sleep Mode to Start Mode:"})," Triggered when the vehicle is turned on. This transition prepares the BMS for operation."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Sleep Mode to Active Mode:"})," Occurs during temporary activations, such as when immediate inspections or controls are required."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"2-active-mode",children:"2. Active Mode"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Description:"}),(0,s.jsx)(t.br,{}),"\n","Active Mode is a transient state where the BMS conducts comprehensive system checks to ensure all components are functioning correctly. During this state, the BMS detects and logs any errors and actively controls the cooling and heating systems to regulate the battery's temperature."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Transitions:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Active Mode to Sleep Mode:"})," After completing the necessary inspections and control tasks, the BMS returns to Sleep Mode to conserve energy."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"3-start-mode",children:"3. Start Mode"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Description:"}),(0,s.jsx)(t.br,{}),"\n","Start Mode is initiated when the vehicle begins to start. In this state, the BMS verifies the condition of the vehicle's battery and activates the necessary relays to supply power to the motor."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Transitions:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Start Mode to Operational Mode:"})," Occurs upon successful verification of the battery condition, allowing the BMS to take over continuous monitoring and control."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Start Mode to Fault Mode:"})," If a fault is detected during verification, the BMS transitions to Fault Mode for further analysis and handling."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"4-operational-mode",children:"4. Operational Mode"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Description:"}),(0,s.jsx)(t.br,{}),"\n","Operational Mode represents the primary operating state during vehicle use. The BMS continuously monitors battery parameters and dynamically adjusts cooling and heating measures to optimize battery performance and longevity."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Transitions:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Operational Mode to Sleep Mode:"})," Triggered when the vehicle is turned off, prompting the BMS to minimize energy consumption."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Operational Mode to Fault Mode:"})," Activated upon detection of a fault during continuous monitoring, necessitating a transition to Fault Mode."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"5-fault-mode",children:"5. Fault Mode"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Description:"}),(0,s.jsx)(t.br,{}),"\n","Fault Mode is activated when the BMS detects an error within the battery system. In this state, the BMS analyzes and categorizes the fault, stores the information for future maintenance, and displays an error indicator to the driver."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Transitions:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Fault Mode to Safety Mode:"})," Initiated when a critical fault is identified that compromises the vehicle's safe operation."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Fault Mode to Operational Mode:"})," Occurs when the detected fault is resolved, allowing the BMS to resume normal monitoring and control."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"6-safety-mode",children:"6. Safety Mode"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Description:"}),(0,s.jsx)(t.br,{}),"\n","Safety Mode is the ultimate protective state activated in response to critical faults. In this state, the BMS interrupts the driving power and completely shuts down the battery to ensure the safety of the vehicle and its occupants."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Transitions:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Safety Mode to Operational Mode:"})," After the critical fault is resolved and verified, the BMS transitions back to Operational Mode."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Safety Mode to Sleep Mode:"})," Occurs following the complete shutdown of the battery when no further actions are required."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"overall-system-behavior",children:"Overall System Behavior"}),"\n",(0,s.jsx)(t.p,{children:"The state diagram describes a robust and flexible Battery Management System capable of efficiently transitioning between various operating states to minimize energy consumption while ensuring the vehicle's safety and reliability."}),"\n",(0,s.jsx)(t.h3,{id:"normal-operational-flows",children:"Normal Operational Flows"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Vehicle Start:"}),(0,s.jsx)(t.br,{}),"\n","Upon turning on the vehicle, the control unit initiates a transition from Sleep Mode to Start Mode. In Start Mode, the BMS verifies the battery condition and activates the necessary relays to supply power to the motor. If the verification is successful, the BMS transitions to Operational Mode."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Continuous Monitoring:"}),(0,s.jsx)(t.br,{}),"\n","In Operational Mode, the BMS continuously monitors battery parameters and dynamically adjusts cooling and heating measures to maintain optimal conditions. If necessary, the BMS can temporarily switch to Active Mode to perform additional inspections or specific controls."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Vehicle Shutdown:"}),(0,s.jsx)(t.br,{}),"\n","When the vehicle is turned off, the BMS transitions from Operational Mode back to Sleep Mode to conserve energy."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Error Detection:"}),(0,s.jsx)(t.br,{}),"\n","During operation, the BMS may detect errors that prompt a transition to Fault Mode."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Error Analysis:"}),(0,s.jsx)(t.br,{}),"\n","In Fault Mode, the BMS analyzes and categorizes the error. If the error is critical, the system transitions to Safety Mode to protect the battery and prevent potential hazards by interrupting the driving power and shutting down the battery."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Error Resolution:"}),(0,s.jsx)(t.br,{}),"\n","Once the error is resolved, the BMS can transition back to Operational Mode to resume normal monitoring and control. If no further actions are needed, the system may also revert to Sleep Mode."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"safety-mechanisms",children:"Safety Mechanisms"}),"\n",(0,s.jsx)(t.p,{children:"Transitioning to Safety Mode in the event of critical faults ensures that the vehicle remains in a safe state by interrupting the driving power and completely shutting down the battery. This prevents potential damage or dangerous situations that could arise from malfunctioning battery operations."}),"\n",(0,s.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(t.p,{children:"The state machine for the Battery Management System (BMS) is designed to efficiently transition between various operating states to minimize energy consumption, extend battery lifespan, and ensure vehicle safety. By clearly structuring the states and transitions, the BMS can effectively respond to both normal operational conditions and faults, thereby supporting the reliable and secure operation of the vehicle."})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8087:(e,t,n)=>{n.d(t,{A:()=>a});n(6540);var i=n(8796),s=n.n(i),r=n(4848);const a=e=>{let{code:t,format:n="svg",serverUrl:i="https://www.plantuml.com/plantuml"}=e;const a=`${i}/${n}/${s().encode(t)}`;return(0,r.jsx)("div",{className:"plantuml-diagram",children:(0,r.jsx)("img",{src:a,alt:"PlantUML diagram"})})}}}]);