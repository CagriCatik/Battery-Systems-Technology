"use strict";(self.webpackChunkBMS=self.webpackChunkBMS||[]).push([[9652],{9143:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"theory/modeling_testing/matlab/generating_code","title":"Generating Code","description":"1. Introduction to Code Generation","source":"@site/docs/theory/10_modeling_testing/03_matlab/07_generating_code.md","sourceDirName":"theory/10_modeling_testing/03_matlab","slug":"/theory/modeling_testing/matlab/generating_code","permalink":"/Battery-Systems-Technology/docs/theory/modeling_testing/matlab/generating_code","draft":false,"unlisted":false,"editUrl":"https://github.com/CagriCatik/Battery-Systems-Technology/edit/main/docs/theory/10_modeling_testing/03_matlab/07_generating_code.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{},"sidebar":"modelingTestingSidebar","previous":{"title":"Measuring and Improving Test Coverage","permalink":"/Battery-Systems-Technology/docs/theory/modeling_testing/matlab/measuring"},"next":{"title":"Testing Generated Code","permalink":"/Battery-Systems-Technology/docs/theory/modeling_testing/matlab/testing_code"}}');var s=i(4848),t=i(8453);const d={},l="Generating Code",o={},c=[{value:"<strong>1. Introduction to Code Generation</strong>",id:"1-introduction-to-code-generation",level:2},{value:"<strong>2. Setting Up Code Generation</strong>",id:"2-setting-up-code-generation",level:2},{value:"<strong>2.1 Accessing the Code Perspective</strong>",id:"21-accessing-the-code-perspective",level:3},{value:"<strong>2.2 Configuring Code Mappings</strong>",id:"22-configuring-code-mappings",level:3},{value:"<strong>3. Generating Code with Embedded Coder</strong>",id:"3-generating-code-with-embedded-coder",level:2},{value:"<strong>3.1 Using the Code Generator Advisor</strong>",id:"31-using-the-code-generator-advisor",level:3},{value:"<strong>3.2 Integrated Code-Model View</strong>",id:"32-integrated-code-model-view",level:3},{value:"<strong>4. Analyzing Generated Code</strong>",id:"4-analyzing-generated-code",level:2},{value:"<strong>4.1 Code Metrics and Reports</strong>",id:"41-code-metrics-and-reports",level:3},{value:"<strong>4.2 Bidirectional Traceability</strong>",id:"42-bidirectional-traceability",level:3},{value:"<strong>5. Certification and Compliance</strong>",id:"5-certification-and-compliance",level:2},{value:"<strong>5.1 IEC Certification Kit</strong>",id:"51-iec-certification-kit",level:3},{value:"<strong>5.2 Traceability Metrics</strong>",id:"52-traceability-metrics",level:3},{value:"<strong>6. Key Benefits</strong>",id:"6-key-benefits",level:2},{value:"<strong>Summary</strong>",id:"summary",level:2}];function a(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"generating-code",children:"Generating Code"})}),"\n",(0,s.jsx)(n.h2,{id:"1-introduction-to-code-generation",children:(0,s.jsx)(n.strong,{children:"1. Introduction to Code Generation"})}),"\n",(0,s.jsxs)(n.p,{children:["Code generation in Simulink converts validated BMS models into embedded software using ",(0,s.jsx)(n.strong,{children:"Embedded Coder"}),". This process ensures:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Accuracy"}),": Generated code mirrors the Simulink model\u2019s behavior."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Certification Readiness"}),": Compliance with safety standards (e.g., ISO 26262 ASIL-D)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Traceability"}),": Bi-directional links between code, model, and requirements."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"2-setting-up-code-generation",children:(0,s.jsx)(n.strong,{children:"2. Setting Up Code Generation"})}),"\n",(0,s.jsx)(n.h3,{id:"21-accessing-the-code-perspective",children:(0,s.jsx)(n.strong,{children:"2.1 Accessing the Code Perspective"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Open Embedded Coder"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Navigate to ",(0,s.jsx)(n.em,{children:"Apps > Embedded Coder"})," or click the ",(0,s.jsx)(n.em,{children:"Code Perspective"})," badge (bottom-right corner)."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Key Tools"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Code Mappings Editor"}),": Define storage classes for inputs, outputs, and parameters."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Model Data Editor"}),": Customize data types and storage for individual signals."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"22-configuring-code-mappings",children:(0,s.jsx)(n.strong,{children:"2.2 Configuring Code Mappings"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Storage Classes"}),": Control how variables/parameters are declared in code.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Example:","\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Model Element"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Storage Class"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Code Declaration"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"BMS_State"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ExportedGlobal"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"extern uint8_T BMS_State;"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Cell_Voltage"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Volatile"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"volatile float Cell_Voltage;"})})]})]})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"3-generating-code-with-embedded-coder",children:(0,s.jsx)(n.strong,{children:"3. Generating Code with Embedded Coder"})}),"\n",(0,s.jsx)(n.h3,{id:"31-using-the-code-generator-advisor",children:(0,s.jsx)(n.strong,{children:"3.1 Using the Code Generator Advisor"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Run Advisor"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Navigate to ",(0,s.jsx)(n.em,{children:"Code > Embedded Coder Advisor"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Follow recommendations to optimize code for your target (e.g., memory alignment, MISRA compliance)."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Generate Code"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.em,{children:"Generate Code"})," in the toolstrip."]}),"\n",(0,s.jsxs)(n.li,{children:["Outputs:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:".c"}),"/",(0,s.jsx)(n.code,{children:".h"})," files (e.g., ",(0,s.jsx)(n.code,{children:"BMS_StateMachine.c"}),", ",(0,s.jsx)(n.code,{children:"BMS_StateMachine.h"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Code Interface Report"}),": Documents APIs and data structures."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"32-integrated-code-model-view",children:(0,s.jsx)(n.strong,{children:"3.2 Integrated Code-Model View"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Trace Code to Model"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Hover over code variables to highlight corresponding Simulink blocks."}),"\n",(0,s.jsx)(n.li,{children:"Click model elements to navigate to their code implementations."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"4-analyzing-generated-code",children:(0,s.jsx)(n.strong,{children:"4. Analyzing Generated Code"})}),"\n",(0,s.jsx)(n.h3,{id:"41-code-metrics-and-reports",children:(0,s.jsx)(n.strong,{children:"4.1 Code Metrics and Reports"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Code Metrics Report"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Lines of code (LOC), memory usage, stack consumption."}),"\n",(0,s.jsxs)(n.li,{children:["Example:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"Total LOC: 1,200  \nGlobal Variables: 12 (48 bytes)  \nStack Usage: 256 bytes (max)  \n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Web View Report"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Interactive HTML report with hyperlinks between code and model."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"42-bidirectional-traceability",children:(0,s.jsx)(n.strong,{children:"4.2 Bidirectional Traceability"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Requirements Linking"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Code elements retain links to original requirements (imported from Word/DOORS)."}),"\n",(0,s.jsxs)(n.li,{children:["Example: A ",(0,s.jsx)(n.code,{children:"Fault_Handler"})," function links to ",(0,s.jsx)(n.em,{children:"Requirement 4.3: Fault Handling"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"5-certification-and-compliance",children:(0,s.jsx)(n.strong,{children:"5. Certification and Compliance"})}),"\n",(0,s.jsx)(n.h3,{id:"51-iec-certification-kit",children:(0,s.jsx)(n.strong,{children:"5.1 IEC Certification Kit"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Access Artifacts"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Open ",(0,s.jsx)(n.em,{children:"Apps > IEC Certification Kit"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Includes:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TUV SUD Certificate"}),": Confirms code generator qualification for ISO 26262."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Tool Qualification Pack"}),": Maps Simulink workflows to ISO 26262 tables (Part 6, 8)."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Key Use Cases"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ASIL-D compliance for automotive systems."}),"\n",(0,s.jsx)(n.li,{children:"DO-178C for aerospace."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"52-traceability-metrics",children:(0,s.jsx)(n.strong,{children:"5.2 Traceability Metrics"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Automated Traceability Matrix"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Links code, model, and requirements for audits."}),"\n",(0,s.jsxs)(n.li,{children:["Example:","\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Requirement ID"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Model Block"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Code Function"})})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"REQ_4.3"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"Fault_State"})," (Stateflow)"]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"void Fault_Handler(void)"})})]})})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"6-key-benefits",children:(0,s.jsx)(n.strong,{children:"6. Key Benefits"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Safety-Certified Code"}),": ASIL-D/DO-178C qualified workflows."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Efficiency"}),": Reduce manual coding errors with auto-generated code."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Transparency"}),": Trace code to model/requirements for audits."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:(0,s.jsx)(n.strong,{children:"Summary"})}),"\n",(0,s.jsx)(n.p,{children:"Generating BMS code in Simulink involves:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Configuring ",(0,s.jsx)(n.strong,{children:"storage classes"})," and code mappings."]}),"\n",(0,s.jsxs)(n.li,{children:["Using ",(0,s.jsx)(n.strong,{children:"Embedded Coder"})," to generate ISO 26262-compliant code."]}),"\n",(0,s.jsxs)(n.li,{children:["Validating code via ",(0,s.jsx)(n.strong,{children:"traceability reports"})," and the ",(0,s.jsx)(n.strong,{children:"IEC Certification Kit"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For advanced optimization, leverage ",(0,s.jsx)(n.strong,{children:"Embedded Coder\u2019s"})," MISRA-C compliance checks and processor-in-the-loop (PIL) testing."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>l});var r=i(6540);const s={},t=r.createContext(s);function d(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);