"use strict";(self.webpackChunkmy_document=self.webpackChunkmy_document||[]).push([[1963],{1871:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"System_and_Algorithms/state_machine","title":"BMS State Machine","description":"This state diagram outlines the various operating states of the Battery Management System (BMS) and the transitions between these states based on specific events and conditions.","source":"@site/docs/04_System_and_Algorithms/11_state_machine.md","sourceDirName":"04_System_and_Algorithms","slug":"/System_and_Algorithms/state_machine","permalink":"/BMS/docs/System_and_Algorithms/state_machine","draft":false,"unlisted":false,"editUrl":"https://github.com/CagriCatik/BMS/edit/main/docs/04_System_and_Algorithms/11_state_machine.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"id":"state_machine"},"sidebar":"tutorialSidebar","previous":{"title":"BMS Architecture","permalink":"/BMS/docs/System_and_Algorithms/bms_architecture"},"next":{"title":"BMS Control Systems and Workings","permalink":"/BMS/docs/System_and_Algorithms/control_systems"}}');var a=n(4848),o=n(8453);const s={id:"state_machine"},r="BMS State Machine",l={},d=[{value:"Overview of the State Diagram",id:"overview-of-the-state-diagram",level:2},{value:"Detailed Description of States and Transitions",id:"detailed-description-of-states-and-transitions",level:2},{value:"1. Sleep Mode",id:"1-sleep-mode",level:3},{value:"2. Active Mode",id:"2-active-mode",level:3},{value:"3. Start Mode",id:"3-start-mode",level:3},{value:"4. Operational Mode",id:"4-operational-mode",level:3},{value:"5. Fault Mode",id:"5-fault-mode",level:3},{value:"6. Safety Mode",id:"6-safety-mode",level:3},{value:"Overall System Behavior",id:"overall-system-behavior",level:2},{value:"Normal Operational Flows:",id:"normal-operational-flows",level:3},{value:"Error Handling:",id:"error-handling",level:3},{value:"Safety Mechanisms:",id:"safety-mechanisms",level:3},{value:"Summary",id:"summary",level:2}];function c(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"bms-state-machine",children:"BMS State Machine"})}),"\n",(0,a.jsx)(t.p,{children:"This state diagram outlines the various operating states of the Battery Management System (BMS) and the transitions between these states based on specific events and conditions."}),"\n",(0,a.jsx)(t.h2,{id:"overview-of-the-state-diagram",children:"Overview of the State Diagram"}),"\n",(0,a.jsx)(t.p,{children:"The state diagram comprises six primary states: Sleep Mode, Active Mode, Start Mode, Operational Mode, Fault Mode, and Safety Mode. The state machine initiates in Sleep Mode and transitions between the different states in response to various events and conditions."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-mermaid",children:"stateDiagram-v2\n    [*] --\x3e Sleep_Mode\n\n    Sleep_Mode: Minimizes energy consumption \\ Periodic wake-up based on cycle time\n    Sleep_Mode --\x3e Start_Mode : Vehicle turned on\n    Sleep_Mode --\x3e Active_Mode : Temporary activation\n\n    Active_Mode: Conducts system checks \\ Error detection and logging \\ Controls cooling and heating functions\n    Active_Mode --\x3e Sleep_Mode : Completion of inspections\n\n    Start_Mode: Verifies battery condition \\ Activates relays for motor power\n    Start_Mode --\x3e Operational_Mode : Successful verification\n    Start_Mode --\x3e Fault_Mode : Fault detected\n\n    Operational_Mode: Continuously monitors battery \\ Dynamically adjusts cooling/heating measures\n    Operational_Mode --\x3e Sleep_Mode : Vehicle turned off\n    Operational_Mode --\x3e Fault_Mode : Fault detected\n\n    Fault_Mode: Analyzes and categorizes fault \\ Stores and displays fault\n    Fault_Mode --\x3e Safety_Mode : Critical fault\n    Fault_Mode --\x3e Operational_Mode : Fault resolved\n\n    Safety_Mode: Interrupts driving power \\ Completely shuts down battery\n    Safety_Mode --\x3e Operational_Mode : Fault resolved and verified\n    Safety_Mode --\x3e Sleep_Mode : After complete shutdown\n"})}),"\n",(0,a.jsx)(t.p,{children:"The sequence diagram begins in Sleep Mode and transitions between various states based on events and conditions."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant Vehicle\n    participant System\n\n    Vehicle->>System: Turn on vehicle\n    System->>System: Transition to Start_Mode\n    activate System\n    System->>System: Verify battery condition\n    alt Successful verification\n        System->>System: Transition to Operational_Mode\n        System->>System: Monitor battery\n        System->>System: Dynamically adjust cooling/heating measures\n        Vehicle->>System: Turn off vehicle\n        System->>System: Transition to Sleep_Mode\n    else Fault detected\n        System->>System: Transition to Fault_Mode\n        System->>System: Analyze and log fault\n        alt Critical fault\n            System->>System: Transition to Safety_Mode\n            System->>System: Interrupt driving power\n            Vehicle->>System: Fault resolved\n            System->>System: Transition to Operational_Mode\n        else Fault resolved\n            System->>System: Transition to Operational_Mode\n        end\n    end\n    deactivate System\n"})}),"\n",(0,a.jsx)(t.h2,{id:"detailed-description-of-states-and-transitions",children:"Detailed Description of States and Transitions"}),"\n",(0,a.jsx)(t.h3,{id:"1-sleep-mode",children:"1. Sleep Mode"}),"\n",(0,a.jsx)(t.p,{children:"Description:\nIn Sleep Mode, the BMS minimizes energy consumption to extend the battery's lifespan. The system periodically wakes up according to a programmed cycle time to perform specific tasks or check the system status."}),"\n",(0,a.jsx)(t.p,{children:"Transitions:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Sleep Mode to Start Mode: Triggered when the vehicle is turned on. This transition prepares the BMS for operation."}),"\n",(0,a.jsx)(t.li,{children:"Sleep Mode to Active Mode: Occurs during temporary activations, such as when immediate inspections or controls are required."}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"2-active-mode",children:"2. Active Mode"}),"\n",(0,a.jsx)(t.p,{children:"Description:\nActive Mode is a transient state where the BMS conducts comprehensive system checks to ensure all components are functioning correctly. During this state, the BMS detects and logs any errors and actively controls the cooling and heating systems to regulate the battery's temperature."}),"\n",(0,a.jsx)(t.p,{children:"Transitions:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Active Mode to Sleep Mode: After completing the necessary inspections and control tasks, the BMS returns to Sleep Mode to conserve energy."}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"3-start-mode",children:"3. Start Mode"}),"\n",(0,a.jsx)(t.p,{children:"Description:\nStart Mode is initiated when the vehicle begins to start. In this state, the BMS verifies the condition of the vehicle's battery and activates the necessary relays to supply power to the motor."}),"\n",(0,a.jsx)(t.p,{children:"Transitions:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Start Mode to Operational Mode: Occurs upon successful verification of the battery condition, allowing the BMS to take over continuous monitoring and control."}),"\n",(0,a.jsx)(t.li,{children:"Start Mode to Fault Mode: If a fault is detected during verification, the BMS transitions to Fault Mode for further analysis and handling."}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"4-operational-mode",children:"4. Operational Mode"}),"\n",(0,a.jsx)(t.p,{children:"Description:\nOperational Mode represents the primary operating state during vehicle use. The BMS continuously monitors battery parameters and dynamically adjusts cooling and heating measures to optimize battery performance and longevity."}),"\n",(0,a.jsx)(t.p,{children:"Transitions:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Operational Mode to Sleep Mode: Triggered when the vehicle is turned off, prompting the BMS to minimize energy consumption."}),"\n",(0,a.jsx)(t.li,{children:"Operational Mode to Fault Mode: Activated upon detection of a fault during continuous monitoring, necessitating a transition to Fault Mode."}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"5-fault-mode",children:"5. Fault Mode"}),"\n",(0,a.jsx)(t.p,{children:"Description:\nFault Mode is activated when the BMS detects an error within the battery system. In this state, the BMS analyzes and categorizes the fault, stores the information for future maintenance, and displays an error indicator to the driver."}),"\n",(0,a.jsx)(t.p,{children:"Transitions:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Fault Mode to Safety Mode: Initiated when a critical fault is identified that compromises the vehicle's safe operation."}),"\n",(0,a.jsx)(t.li,{children:"Fault Mode to Operational Mode: Occurs when the detected fault is resolved, allowing the BMS to resume normal monitoring and control."}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"6-safety-mode",children:"6. Safety Mode"}),"\n",(0,a.jsx)(t.p,{children:"Description:\nSafety Mode is the ultimate protective state activated in response to critical faults. In this state, the BMS interrupts the driving power and completely shuts down the battery to ensure the safety of the vehicle and its occupants."}),"\n",(0,a.jsx)(t.p,{children:"Transitions:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Safety Mode to Operational Mode: After the critical fault is resolved and verified, the BMS transitions back to Operational Mode."}),"\n",(0,a.jsx)(t.li,{children:"Safety Mode to Sleep Mode: Occurs following the complete shutdown of the battery when no further actions are required."}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"overall-system-behavior",children:"Overall System Behavior"}),"\n",(0,a.jsx)(t.p,{children:"The state diagram describes a robust and flexible Battery Management System capable of efficiently transitioning between various operating states to minimize energy consumption while ensuring the vehicle's safety and reliability."}),"\n",(0,a.jsx)(t.h3,{id:"normal-operational-flows",children:"Normal Operational Flows:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Vehicle Start:\nUpon turning on the vehicle, the control unit initiates a transition from Sleep Mode to Start Mode. In Start Mode, the BMS verifies the battery condition and activates the necessary relays to supply power to the motor. If the verification is successful, the BMS transitions to Operational Mode."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Continuous Monitoring:\nIn Operational Mode, the BMS continuously monitors battery parameters and dynamically adjusts cooling and heating measures to maintain optimal conditions. If necessary, the BMS can temporarily switch to Active Mode to perform additional inspections or specific controls."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Vehicle Shutdown:\nWhen the vehicle is turned off, the BMS transitions from Operational Mode back to Sleep Mode to conserve energy."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"error-handling",children:"Error Handling:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Error Detection:\nDuring operation, the BMS may detect errors that prompt a transition to Fault Mode."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Error Analysis:\nIn Fault Mode, the BMS analyzes and categorizes the error. If the error is critical, the system transitions to Safety Mode to protect the battery and prevent potential hazards by interrupting the driving power and shutting down the battery."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Error Resolution:\nOnce the error is resolved, the BMS can transition back to Operational Mode to resume normal monitoring and control. If no further actions are needed, the system may also revert to Sleep Mode."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"safety-mechanisms",children:"Safety Mechanisms:"}),"\n",(0,a.jsx)(t.p,{children:"Transitioning to Safety Mode in the event of critical faults ensures that the vehicle remains in a safe state by interrupting the driving power and completely shutting down the battery. This prevents potential damage or dangerous situations that could arise from malfunctioning battery operations."}),"\n",(0,a.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsx)(t.p,{children:"The state machine for the Battery Management System (BMS) is designed to efficiently transition between various operating states to minimize energy consumption, extend battery lifespan, and ensure vehicle safety. By clearly structuring the states and transitions, the BMS can effectively respond to both normal operational conditions and faults, thereby supporting the reliable and secure operation of the vehicle."})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var i=n(6540);const a={},o=i.createContext(a);function s(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);